# Package: agent

### Imports:

```
import (
	"context"
	"encoding/json"
	"log"

	"github.com/tmc/langchaingo/llms"
	"github.com/tmc/langchaingo/llms/openai"
	"github.com/tmc/langchaingo/tools/duckduckgo"

	//"github.com/tmc/langgraphgo/graph"
	"github.com/JackBekket/langgraphgo/graph"
)
```

### External Data and Input Sources:

- DuckDuckGo search engine is used for web searches.

### Code Summary:

#### MainDuckSearch Function:

1. Initializes an OpenAI model with the GPT-4 OpenAI API.
2. Defines an initial state for the agent, which includes a system message instructing the agent to use the DuckDuckGo search engine.
3. Defines a set of tools, including a "search" function that performs a DuckDuckGo web search.
4. Creates an agent function that generates content using the OpenAI model and the defined tools.
5. Creates a search function that handles tool calls for the "search" function, performing a DuckDuckGo search based on the provided query.
6. Defines a condition function to determine if the "search" tool call should be executed.
7. Creates a message graph workflow that includes the agent and search functions, with conditional edges based on the condition function.
8. Compiles the workflow and invokes it with an initial state containing a user query.
9. Prints the final message generated by the agent.

lib/agent/semantic_search_agent.go


lib/agent/superagent.go
## Package: agent

### Imports:

```
log
os
github.com/joho/godotenv
github.com/tmc/langchaingo/llms
github.com/tmc/langchaingo/llms/openai
```

### External Data, Input Sources:

- Environment variables: AI_ENDPOINT, ADNIN_KEY, EMBEDDINGS_DB_URL (not used in the provided code)

### Code Summary:

#### One-Shot Agent:

The `OnePunch` function is a prototype for a one-shot agent that doesn't use any history context. It creates a generic LLM using the `CreateGenericLLM` function and then calls the `OneShotRun` function with the provided prompt and the LLM. The result is printed to the console.

#### Thread Agent:

The `RunThread` function is a prototype for a thread agent that can use history context. It takes a prompt, a pre-existing LLM, and an optional list of history messages as input. It appends the new user prompt to the history and then calls the `OneShotRun` function with the prompt, the LLM, and the updated history. The result is printed to the console, and the updated history and the result are returned.

#### Message Content Creation:

The `CreateMessageContentAi` and `CreateMessageContentHuman` functions are used to create message content for the AI and human, respectively. They take a string as input and return a slice of `llms.MessageContent` objects.

#### Generic LLM Creation:

The `CreateGenericLLM` function creates a generic LLM using the OpenAI API. It takes the model name, API token, and base URL as input. It then creates a new OpenAI client using the provided parameters and returns the LLM.

#### One-Shot Run:

The `OneShotRun` function is not shown in the provided code, but it is assumed to be a function that takes a prompt, an LLM, and an optional list of history messages as input and returns the result of running the agent with the given parameters.



